# https://taskfile.dev

version: '2'

tasks:
  build:
    cmds:
      - cd website; hugo
    silent: true

  dev:
    cmds:
      - cd website; hugo server
    silent: true

  reset:
    cmds:
      - rm -drf ./website

  init:
    cmds:
      # create initial folder structure
      - hugo new site website
      # create additional folders
      - mkdir ./website/assets ./website/assets/sass ./website/assets/js
      # load fomantic-sass
      - git clone https://github.com/fomantic/Fomantic-UI-SASS
      # checkout to version-tag
      - cd ./Fomantic-UI-SASS; git checkout tags/v{{ .version_semantic }} --quiet
      # copy sass-files from downloaded repo to local website
      - cp -r ./Fomantic-UI-SASS/app/assets/stylesheets/* ./website/assets/sass/
      # remove sass-repo-folder as it is no longer required
      - rm -drf ./Fomantic-UI-SASS
      # get jquery-js in specified version
      #- wget https://cdn.jsdelivr.net/npm/jquery@{{ .version_jquery }}/dist/jquery.js -O ./website/assets/js/jquery_{{ .version_jquery }}.js
      # get minified jquery-js in specified version
      #- wget https://cdn.jsdelivr.net/npm/jquery@{{ .version_jquery }}/dist/jquery.min.js -O ./website/assets/js/jquery_{{ .version_jquery }}.min.js
      # get semantic-js in specified version
      #- wget https://cdn.jsdelivr.net/npm/fomantic-ui@{{ .version_semantic }}/dist/semantic.js -O ./website/assets/js/semantic_{{ .version_semantic }}.js
      # get minified semantic-js in specified version
      #- wget https://cdn.jsdelivr.net/npm/fomantic-ui@{{ .version_semantic }}/dist/semantic.min.js -O ./website/assets/js/semantic_{{ .version_semantic }}.min.js
      # create an empty main.js file
      - touch ./website/assets/js/main.js
      # copy created demo-layouts from root folder to website folder
      - cp -drf ./layouts ./website/
    silent: true
